# ffmpeg-nvidia-adaptive-vod-transcoder
bash script will detect new video file in folder and transcode it to adaprive bitrate

# Folder Structure
```
new_cnt.lst
old_cnt.lst
transcoder.sh
```

# Transcoder Log 
```
================================================================
Stat: = Total File: 61981 | transcoded fhd:22 hd:22 sd:22
---------------------------------------------------------------
Source info
File: = /mnt/storage1/sport_files/videos/dir0/file1342.mp4
Detected Resolution: 1920x1080
Detected Bitrate: 5888/Kbps
---------------------------------------------------------------
Stream 1
   Resolution: 1920x1080
   Bitrate: 5688/Kbps
   Profile: high
   Preset: slow
Stream 2
   Resolution: 1080x720
   Bitrate: 2944/Kbps
   Profile: main
   Preset: medium
Stream 3
   Resolution: 854x480
   Bitrate: 1229/Kbps
   Profile: baseline
   Preset: fast
================================================================
```

# Console Log
```
================================================================
01-25-2021-23:32:42 | old/new files count: 77023/77023
================================================================
================================================================
01-25-2021-23:37:43 | old/new files count: 77023/77023
================================================================
================================================================
01-25-2021-23:42:43 | old/new files count: 77023/77023
================================================================
================================================================
01-25-2021-23:47:44 | old/new files count: 77023/77023
================================================================
================================================================
01-25-2021-23:52:45 | old/new files count: 77023/77023
================================================================
================================================================
01-25-2021-23:57:45 | old/new files count: 77023/77023
================================================================
================================================================
01-26-2021-00:02:46 | old/new files count: 77023/77023
================================================================
================================================================
01-26-2021-00:07:46 | old/new files count: 77023/77023
================================================================
================================================================
01-26-2021-00:12:47 | old/new files count: 77024/77023
================================================================
/opt/videos/dir37/dir37807/file_37807_df.mp4
Addad new progressive video, skip transcoding
================================================================
01-26-2021-00:17:47 | old/new files count: 77024/77024
================================================================
================================================================
01-26-2021-00:22:48 | old/new files count: 77024/77024
================================================================
================================================================
01-26-2021-00:27:48 | old/new files count: 77024/77024
================================================================
```

<a href="https://www.buymeacoffee.com/smurfmanx" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/default-orange.png" alt="Buy Me A Coffee" height="41" width="174"></a>
